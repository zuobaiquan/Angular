<div class="modal-content" ng-init="getSectionRole()">
 <div class="modal-header">
  <button type="button" class="close" ng-click="$dismiss()" aria-label="Close">
   <em class="ion-ios-close-empty sn-link-close"></em>
  </button>
  <h4 class="modal-title">{{title}}</h4>
 </div>
 <form name="myForm" class="form-horizontal" style="max-height:420px;overflow:auto;">
  <div class="form-group" ng-class="{'has-error':myForm.username.$dirty&&myForm.username.$invalid}">
   <label for="inputtitle" class="col-sm-3 control-label">用户名</label>
   <div class="col-sm-8">
    <input autocomplete="off" type="text" name="username" ng-maxlength=20 ng-required="true" class="form-control"
           id="inputtitle" placeholder="请输入用户名" ng-model="modal.params.username">
   </div>
   <label class="col-sm-3 control-label"></label>
   <div class="col-sm-8">
    <div style="padding:10px;" class="alert alert-danger help-block" ng-show="myForm.username.$dirty&&myForm.username.$error.required">用户名不能为空</div>
   </div>
   <label class="col-sm-3 control-label"></label>
   <div class="col-sm-8">
    <div style="padding:10px;" class="alert alert-danger help-block" ng-show="myForm.username.$dirty&&myForm.username.$error.maxlength">用户名不能超过20个字</div>
   </div>
  </div>

 <div class="form-group" ng-class="{'has-error':myForm.realName.$dirty&&myForm.realName.$invalid}">
     <label for="inputtitle2" class="col-sm-3 control-label">姓名</label>
     <div class="col-sm-8">
         <input autocomplete="off" type="text" name="realName" ng-maxlength=50 ng-required="true" class="form-control"
                id="inputtitle2" placeholder="请输入姓名" ng-model="modal.params.realName">
     </div>
     <label class="col-sm-3 control-label"></label>
     <div class="col-sm-8">
         <div style="padding:10px;" class="alert alert-danger help-block" ng-show="myForm.realName.$dirty&&myForm.realName.$error.required">姓名不能为空</div>
     </div>
     <label class="col-sm-3 control-label"></label>
     <div class="col-sm-8">
         <div style="padding:10px;" class="alert alert-danger help-block" ng-show="myForm.realName.$dirty&&myForm.realName.$error.maxlength">姓名不能超过50个字</div>
     </div>
 </div>

 <div class="form-group">
     <label class="col-sm-3 control-label">用户头像：</label>
     <div class="col-sm-7">
         <image-upload
             init="vm.init()"
             data-token="vm.token"
             data-key="vm.key.value"
             data-link="vm.link"
             file-id="logo1"
             src="./assets/img/image-425232.png"
             data-height="45"
             data-result="modal.params.avatar"
             data-width="45"
             data-max-size="300"
             data-top="190"
             data-tops="210"
             is-crop="true"
             data-progress="vm.progress"
         ></image-upload>
     </div>
 </div>

 <div class="form-group" ng-class="{'has-error':myForm.phone.$dirty&&myForm.phone.$invalid}">
     <label for="inputphone" class="col-sm-3 control-label">手机号</label>
     <div class="col-sm-8">
         <input autocomplete="off" type="text" maxlength="11" name="phone" ng-pattern="/^(17951)?(13[0-9]|15[012356789]|17[678]|18[0-9]|14[57])[0-9]{8}$/" ng-required="true" class="form-control" id="inputphone" placeholder="点击输入手机号" ng-model="modal.params.phone">
     </div>
     <label class="col-sm-3 control-label"></label>
     <div class="col-sm-8">
         <div style="padding:10px;" class="alert alert-danger help-block" ng-show="myForm.phone.$dirty&&myForm.phone.$error.required" style="padding:10px;">手机号不能为空</div>
     </div>
     <label class="col-sm-3 control-label"></label>
     <div class="col-sm-8">
         <div style="padding:10px;" class="alert alert-danger help-block" ng-show="myForm.phone.$dirty&&myForm.phone.$error.pattern" style="padding:10px;">手机号格式不正确</div>
     </div>
 </div>

 <div ng-if="isedit" class="form-group" ng-class="{'has-error':myForm.password.$dirty&&myForm.password.$invalid}">
     <label for="inputpass" class="col-sm-3 control-label">密码</label>
     <div class="col-sm-8">
         <input autocomplete="off" type="password" name="password" ng-maxlength=50 ng-required="true" class="form-control"
                id="inputpass" placeholder="请输入密码" ng-model="modal.params.password">
     </div>
     <label class="col-sm-3 control-label"></label>
     <div class="col-sm-8">
         <div style="padding:10px;" class="alert alert-danger help-block" ng-show="myForm.password.$dirty&&myForm.password.$error.required">密码不能为空</div>
     </div>
 </div>

 <div class="form-group">
     <label class="col-sm-3 control-label">所属角色</label>
     <label style="margin-left: 3%">
         <select
             class="form-control selectpicker"
             ng-change="changeRole(selrole)"
             ng-model="selrole"
             ng-options="x.id as x.name for x in rolelist">
            <option value="">选择所属角色</option>
         </select>
     </label>
 </div>


 <div class="form-group">
     <label class="col-sm-3 control-label">所属部门</label>
     <label style="margin-left: 3%">
         <select
             class="form-control selectpicker"
             ng-change="changeDp(seldepart)"
             ng-model="seldepart"
             ng-options="x.id as x.name for x in departlist">
             <option value="">选择所属部门</option>
         </select>
     </label>
 </div>

 </form>
 <div class="modal-footer">
  <button type="button" ng-disabled="myForm.$invalid||selrole==null||seldepart==null||modal.params.avatar==null" class="btn btn-primary" ng-click="submit()">保存</button>
  <button type="button" class="btn btn-default" ng-click="$dismiss()">取消</button>
 </div>
</div>
