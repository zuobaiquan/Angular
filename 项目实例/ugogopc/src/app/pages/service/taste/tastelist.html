<div class="row rowlist-con">
    <div class="col-md-12">
        <div ba-panel ba-panel-title="fsplus table title if needed" ba-panel-class="with-scroll">
            <div class="row" style="margin:0;">
                <label class="control-label" style="float:left;height:34px;line-height:34px;">发布时间</label>
                <div class="dropdown col-sm-2">
                    <a class="dropdown-toggle" id="dropdown1" role="button" data-toggle="dropdown" data-target="#">
                        <div class="input-group">
                            <input autocomplete="off" id="inputtime" placeholder="开始时间" type="text" class="form-control" ng-model="smartTable.start">
                            <span class="input-group-addon">
                            <i class="glyphicon glyphicon-calendar"></i>
                            </span>
                        </div>
                    </a>
                    <ul class="dropdown-menu" role="menu" aria-labelledby="dLabel">
                        <datetimepicker ng-model="smartTable.start" data-datetimepicker-config="{ dropdownSelector: '#dropdown1',modelType:'YYYY-MM-DD',minView:'day'}" ></datetimepicker>
                    </ul>
                </div>
                <div class="dropdown col-sm-2">
                    <a class="dropdown-toggle" id="dropdown2" role="button" data-toggle="dropdown" data-target="#">
                        <div class="input-group">
                            <input autocomplete="off" id="inputtime2" placeholder="结束时间" type="text" class="form-control" ng-model="smartTable.end">
                            <span class="input-group-addon">
                            <i class="glyphicon glyphicon-calendar"></i>
                            </span>
                        </div>
                    </a>
                    <ul class="dropdown-menu" role="menu" aria-labelledby="dLabel">
                        <datetimepicker ng-model="smartTable.end" data-datetimepicker-config="{ dropdownSelector: '#dropdown2',modelType:'YYYY-MM-DD',minView:'day'}" ></datetimepicker>
                    </ul>
                </div>
                <div class="col-sm-2" style="padding:0;width: 16%;">
                    <button type="button" class="btn btn-primary" ng-click="getList(tableState)">搜索</button>
                    &nbsp;&nbsp;<button type="button" class="btn btn-primary" ng-click="removeContent()">清除搜索</button>
                </div>
                <label style="float: left;line-height:34px;">状态</label>
                <div class="dropdown col-sm-1" style="width: auto;">
                    <select
                        class="form-control selectpicker"
                        ng-change="change_selstatus(selstatus)"
                        ng-model="selstatus"
                        ng-options="x.id as x.des for x in ugogoStatus"
                    ></select>
                </div>
                <label style="float: left;line-height:34px;">类别</label>
                <div class="dropdown col-sm-1" style="width: auto;" ng-init="getAlltypelist()">
                    <select
                        class="form-control selectpicker"
                        ng-change="change_seltype(seltype)"
                        ng-model="seltype"
                        ng-options="x.id as x.des for x in ugogoType"
                    ></select>
                </div>
                <div class="col-sm-2" style="width:1%;padding:0;">
                    <input type="text" style="height:33px;padding-left:8px;width: 130px;border:none;border-radius:5px;outline:none;border:1px solid #ddd;" ng-model="smartTable.searchContent" placeholder="搜索体验名称" ng-keyup="getList(tableState)">
                </div>
            </div>
            <div class="row" style="margin:0;">
                <a ng-click="addProject()" class="btn btn-default">发布体验</a>
                <a ng-click="setallTasteupdown(tableData,1)" class="btn btn-default">上架</a>
                <a ng-click="setallTasteupdown(tableData,-1)" class="btn btn-default">下架</a>
                <a ng-click="delAllsel(tableData)" class="btn btn-default">批量删除</a>
            </div>
            <br />
            <div class="table-contain">
                <table class="table table-bordered table-hover table-buttonborder-none" st-table="tableData" st-pipe="getList">
                    <thead>
                    <tr class="active">
                        <th>序号</th>
                        <th style="width:18%;">操作</th>
                        <th>体验名称</th>
                        <th>体验类别</th>
                        <th>体验价格</th>
                        <th>预订日期</th>
                        <th>发布时间</th>
                        <th style="width: 6%;">状态</th>
                        <th>备注</th>
                    </tr>
                    </thead>
                    <tbody ng-show="!isLoading">
                    <tr ng-repeat="item in tableData track by $index" class="table-tr">
                        <td>
                            <label class="checkbox-inline custom-checkbox nowrap">
                                <input type="checkbox" ng-checked="persons[item.id].state" ng-model="persons[item.id].state">
                                <span>{{$index+itemFrom}}</span>
                            </label>
                        </td>
                        <td style="width:18%;">
                            <a ng-if="item.status==2&&item.isOnself==1" class='btn btn-sm btn-rounded btn-default' ng-click="setTasteupdown(item.id,-1)">下架</a>
                            <a ng-if="item.status!=2&&item.isOnself==1" class='btn btn-sm btn-rounded btn-default' ng-disabled="true">下架</a>
                            <a ng-if="item.status==2&&item.isOnself==0" class='btn btn-sm btn-rounded btn-default' ng-click="setTasteupdown(item.id,1)">上架</a>
                            <a ng-if="item.status!=2&&item.isOnself==0" class='btn btn-sm btn-rounded btn-default' ng-disabled="true">上架</a>
                            <a ng-if="item.status!=0" class='btn btn-sm btn-rounded btn-default' ui-sref="service.taste-edit({id:item.id})">编辑</a>
                            <a ng-if="item.status==0" class='btn btn-sm btn-rounded btn-default' ng-disabled="true">编辑</a>
                            <a ng-if="item.status!=0" class='btn btn-sm btn-rounded btn-default' ng-click="delTaste(item.id)">删除</a>
                            <a ng-if="item.status==0" class='btn btn-sm btn-rounded btn-default' ng-disabled="true">删除</a>
                        </td>
                        <td title="{{item.name}}">{{item.name | removeWord:10 }}</td>
                        <td>
                            <span ng-repeat="typename in item.projectTypeList">{{typename.name}}&nbsp;&nbsp;</span>
                        </td>
                        <td>{{item.price | number:2}}</td>
                        <td ng-if="reserveTime(item.type,item.projectDateList)==1">
                          <a ng-click="reserveDatedetail(item.projectDateList)" class='btn btn-sm btn-rounded btn-default'>查看预约日期</a>
                        </td>
                        <td ng-if="reserveTime(item.type,item.projectDateList)!=1">{{reserveTime(item.type,item.projectDateList) | removeWord:24 }}</td>
                        <td>{{item.applyTime | limitTo:16 }}</td>
                        <td style="width: 6%;">{{statusText(item.status)}}</td>
                        <td title="{{item.remark}}">{{item.remark | removeWord:10 }}</td>
                    </tr>
                    </tbody>
                    <tbody ng-show="isLoading">
                    <tr>
                        <td colspan="12" class="text-center">Loading ... </td>
                    </tr>
                    </tbody>
                    <tfoot class="table-ajax-tfoot">
                    <tr>
                        <td colspan="12" class="text-right">
                            <div st-displayed-pages="3" st-pagination=""  st-items-by-page="smartTable.pageSize" st-template="app/pages/modal/page.html"></div>
                        </td>
                    </tr>
                    </tfoot>
                </table>
            </div>
            <div class="table-tbody-con">
                显示第{{itemFrom}}条-第{{itemTo}}条记录 总计{{datasTotalNum}}条记录
            </div>
        </div>
    </div>
    </div>
</div>
